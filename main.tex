\documentclass[11pt,a4paper,titlepage]{article}


\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[margin=3cm]{geometry}
\usepackage{indentfirst}
\usepackage{courier}
\usepackage[nottoc,numbib]{tocbibind}
%\usepackage[colorlinks,allcolors=black]{hyperref}
\usepackage[colorlinks,allcolors=blue]{hyperref}
\usepackage{float}
\usepackage{lscape}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{eurosym}
\usepackage{listings}
%\usepackage{xcolor}
\usepackage{numprint}
  \npthousandsep{\,}
\usepackage[table,xcdraw]{xcolor}
\usepackage{subfig}
\usepackage{pdflscape}

\usepackage{graphicx}
\usepackage[table,xcdraw]{xcolor}
\usepackage[normalem]{ulem}
\useunder{\uline}{\ul}{}


\definecolor{mygray}{RGB}{245,245,245}

\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}


\setlength{\parindent}{0.6cm}
\setlength{\parskip}{0.5em}
\setlength{\skip\footins}{1cm}

\author{ \LARGE Sergi Miralles Nogués\vspace{4mm} \\ Director: Felix Freitag  \\ Co-director: Roger Pueyo Centelles}

\title{\vspace{-15mm}\textsc{\Large Facultat d'Informàtica de Barcelona (FIB)}\\\textsc{\Large Universitat Politècnica de Catalunya (UPC)\vspace{5mm}}\\\textsc{\large Grau en Enginyeria Informàtica (GEI)}\\\textsc{\large}\\{\vspace{30mm}\huge \bfseries \fontfamily{lmss}\selectfont Implementation of a LoRa mesh library}  \\ { \LARGE \textsc{}}}

\begin{document}



	\maketitle
    
    \tableofcontents
    
    \newpage
    
    \section{Context}
    \input{Context}
    \section{Justification}
    \input{Justification}
    \section{Scope}
    \input{Scope}
    \section{Methodology and rigor}
    \input{Methodology}
    \section{Tasks}
    \input{Tasks}
    %\section{Gantt}
    %\input{Gantt}
    \section{Risk management}
    \input{Risk}
    \section{Sustainability}
    \input{Sustainability}
    \section{Budged and costs}
    \input{Costs}
    \section{Library specification}
    % Parlar sobre FreeRTOS
    	% - Integrat en el sistema de ESP32, pelque no afegeix espai en el binari
    	% - Permet executar tasques recorrents sense la necessitat que l'usuari hi participi ja que es fa el setup quan s'inicialitza la classe
	% Parlar sobre RadioLib
		% - Permet simplicitat de cara a l'usuari utilitzant la ISR (aprofitar per explicar què és una ISR)
		% - Suporta hardware molt diferent    
    \section{Issues during development}
    % Parlar sobre les modificacions a la placa per adaptar el debugger
    % Parlar sobre passar instancies de una classe a la ISR
    	% Parlar sobre el problema, la solució utlitizada, perqué aquesta solució (és important que la implementació sigui transparent per l'usuari) i el merge request que va ser denegat per la incompatibilitat amb les plaques (AVR) i que aixo ha comportat fer servir el nostre fork de RadioLib
    % Parlar sobre problemes misteriosos
    	% Parlar sobre rebre paquets fantasma quan es transmet un paquet (Posar extracte de codi de RadioLib)
    	% Parlar sobre diversos crashes en el sistema per culpa de les prioritats i rutines blocants (wdt)
    \section{Real World example}
    % Fer un minitestbed i posar logs
    \section{Future work}
    % Fer servir una llibreria de logging que digui el temps en el que s'ha imprés el missatge (posar una cita a l'article del rellotge atomic de FB que van fer fa poc per demostrar que és una tasca díficil, la de sincronitzar diferents dispositius) i mencionar que es podria fer servir la llibreria desenvolupada en un principi per a sincronitzar els nodes per a fer proves per a obtenir el temps (ja que si s'inicien en monents diferents no estaran sincronitzats)
    % Acabar el featureset de la llibreria
    	% Que pugui enviar i rebre missatges personalitzats per l'usuari
    % Afegir una cua de missatges per no incumplir les regulacions de dutycicle i que els missatges s'enviïn automaticament
    % Afegir una altra cua amb més prioritat per missatges de control
    % Fer piggybacking de missatges reals per transmetre missatges de control
    % Fer estudi estadísic
    	% Mirar quin és el període òptim de l'enviament de missatges de control i si convé que aquest perídoe canviï amb el temps
    	% Estudiar les capacitats de la llibreria sota diferentes topologies
    	% Fer servir metriques (Posició, nivell de bateria, nombre d'enllaços) per a cambiar diferents paràmetres de la ràdio (freqüència, SF, bandwith, potencia)
    % Ampliar la configurabilitat de la llibreria. Diferents casos d'ús poden necessitar més o menys features
    % En el llarg termini, desfer-se de RadioLib, que tot i que és una molt bona llibreria té una mica de overhead (mencionar que al afegir la nostra header s'ha de copiar la payload del usuari ja que necessitem passar-li el paquet a RadioLib en una posició de memoria on estigui contigu mentre que la llibreria "Arduino-LoRa" va fent push de la payload una cua hardware i podriem utilitzar la mateixa estratègia
    \section{Legal considerations}
    \input{Legal}
    
	\newpage
    \bibliography{bibliography}
	\bibliographystyle{plain}
    
    
\end{document}
